# ingredient-restaurant-search
卒業論文で開発した飲食店検索システムのコード一式

ユーザが指定したすべての食材（およびその代替食材）を含むメニューを、提供可能なレストランを検索するシステムです。

## 概要

本システムは、ユーザが希望する複数の食材を入力し、それらをすべて含むメニューを提供可能なレストランを検索・提示します。システムは次の3つの構成要素から成り立っています：

1. **ベクトルデータベース（Pinecone）**  
   食材名とその栄養成分を保存し、類似する代替食材の提案に用います。

2. **グラフデータベース（Neo4j）**  
   レストラン、メニュー、およびそれぞれのメニューに含まれる食材の情報をグラフ構造で保存・管理します。

3. **検索システム**  
   ユーザが指定した食材リストに対して、
   - ベクトルデータベースから各食材に対する最大3つの代替食材（類似度スコア0.35以上）を取得
   - 元の食材を代替食材に置き換えたすべての可能な組み合わせリストを生成
   - 各リストに含まれるすべての食材を提供できるレストランをグラフデータベースから検索  
   を実行します。

## 主な特徴

- 複数の食材を同時に検索可能
- 類似食材の提案と代替検索による柔軟な一致
- Cypherクエリによるグラフ検索で高精度なレストラン抽出
- メニュー名と含まれる食材の対応情報を提示

## 使用技術

- **Pinecone**：ベクトル類似度検索（食材の類似性判定）
- **Neo4j**：グラフデータベース（レストラン・メニュー・食材管理）
- **Python**：全体のロジック・データ処理・統合
- **Flask**：Webアプリケーションによるユーザインターフェース
- **BeautifulSoup**：Webスクレイピング

## フォルダ構成

- ingredient-restaurant-search/
- ├─01日本食品標準成分表(八訂)       食材・栄養成分のデータ
- ├─02ベクトルデータベース           ベクトルデータベース(Pinecone)へ食材情報を登録
- ├─03食べログ                     飲食店情報をスクレイピング
- ├─04メニューから食材推定           メニュー名からの食材抽出
- ├─05店舗データベース               Neo4j登録・検索スクリプト
- ├─06検索                        食材代替と検索ロジック
- └─07ウェブアプリケーション         Webインターフェース（Flask）

## 実行方法

1. 食材と栄養情報をPineconeに登録
2. レストラン、メニュー、食材情報をNeo4jに登録
3. ユーザが食材を入力し、検索を実行
4. 検索結果として、条件を満たすレストランとそのメニュー・食材情報を表示

---
